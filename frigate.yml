# GENERAL
mqtt:
  host: haha.shencentral.net
  port: 1883
  topic_prefix: frigate
  client_id: frigate
  user: frigate
  password: frigate

detectors:
  coral:
    type: edgetpu
    device: pci
    
# GLOBAL SETTINGS
ffmpeg:
  hwaccel_args: 
    - -hwaccel
    - vaapi
    - -hwaccel_device
    - /dev/dri/renderD128
    - -hwaccel_output_format
    - yuv420p

birdseye:
  enabled: True
  mode: motion

# CAMERA SETTINGS
cameras:
  driveway:
    ffmpeg:
      inputs:
        - path: rtsp://admin:3o96928712@video-driveway.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record   # use high res stream for record
        - path: rtsp://admin:3o96928712@video-driveway.shencentral.net:554/cam/realmonitor?channel=1&subtype=1
          roles:
            - detect   # lower res ok for detect and rtmp
            - rtmp
    detect:            # must match low res stream from camera exactly
      width: 640
      height: 480
    objects:
      track:
        - person
        - car
        - motorcycle
        - bicycle
    motion:
      mask:    
        - 0,0,640,0,640,51,251,59,251,0,256,173,0,219,0,179
    zones:  
      street_zone:
        coordinates: 159,109,157,55,373,68,497,87,640,129,640,194,354,135
      driveway_zone:
        coordinates: 142,193,308,175,359,136,571,183,452,480,116,480,0,264
    snapshots:
      enabled: True
      timestamp: true
      bounding_box: true
      retain:
        default: 3     # days to keep all snapshots
    record:
      enabled: True
      retain:
        days: 7
        mode: motion
      events:
        retain:
          default: 7    # days to keep any events
          mode: active_objects
          objects:
            person: 14  # days to keep events w specific objects
            cars: 14

  doorbell:
    ffmpeg:
      inputs:
        - path: rtsp://admin:3o96928712@video-doorbell.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record   # use high res stream for record
        - path: rtsp://admin:3o96928712@video-doorbell.shencentral.net:554/cam/realmonitor?channel=1&subtype=1
          roles:
            - detect   # lower res stream ok for detect & rtmp
            - rtmp
    detect:            # must match low res stream from camera exactly
      width: 640
      height: 480
    objects:
      track:
        - person
    motion:
      mask:
        - 0,1080,587,1080,598,0,0,0
        - 1727,37,1729,1080,1920,1080,1920,54,1920,0,1398,0,1398,45
    zones:  
      doorbell_zone:
        coordinates: 1786,1080,1813,73,554,70,572,1080
    snapshots:
      enabled: True
      timestamp: true
      bounding_box: true
      retain:
        default: 3      # days to keep all snapshots
    record:
      enabled: True
      retain:
        days: 7         # days to keep all motion
        mode: motion
      events:
        retain:
          default: 7    # days to keep any events
          mode: active_objects
          objects:
            person: 14  # days to keep events w specific objects

  frontporch:
    ffmpeg:
      inputs:
        - path: rtsp://admin:3o96928712@video-frontporch.shencentral.net:8554/profile0
          roles:
            - record
        - path: rtsp://admin:3o96928712@video-frontporch.shencentral.net:8554/profile1
          roles:
            - detect
            - rtmp
    detect:            # must match low res stream from camera exactly
      width: 720
      height: 480
    objects:
      track:
        - person
        - book
        - suitcase
        - handbag
    motion:
      mask:
        - 720,480,606,480,571,432,576,0,720,0
        - 0,480,138,480,179,433,166,0,0,0
    zones:
      frontporch_zone:
        coordinates: 63,480,660,480,663,0,62,0
    snapshots:
      enabled: True
      timestamp: true
      bounding_box: true
      retain:
        default: 14     # days to keep all snapshots

  greatroom:
    ffmpeg:
      inputs:
        - path: rtsp://admin:3o96928712@video-greatroom.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record
        - path: rtsp://admin:3o96928712@video-greatroom.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - detect
            - rtmp
    detect:            # must match low res stream from camera exactly
      width: 640
      height: 480
    motion:
      mask:
        - 133,256,207,243,202,174,132,188   # mask TV
        - 93,148,188,140,189,111,92,119     # mask ceiling fan

  garage:
    ffmpeg:
      inputs:
        - path: rtsp://admin:3o96928712@video-garage.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record
        - path: rtsp://admin:3o96928712@video-garage.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - detect
            - rtmp
    detect:
      width: 640
      height: 480

  sunroom:
    ffmpeg:
      inputs:
        - path: rtsp://admin:3o96928712@video-sunroom.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - record
        - path: rtsp://admin:3o96928712@video-sunroom.shencentral.net:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - detect
            - rtmp
    detect:            # must match low res stream from camera exactly
      width: 640
      height: 480
    motion:
      mask:
        - 290,44,587,64,584,0,288,0   # mask ceiling fan